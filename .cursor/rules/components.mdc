---
description: Component rules for React applications.
globs:
  - '**/*.{ts,tsx}'
alwaysApply: true
---

# Component Rules

## Component Structure

### Function Declarations

```typescript
// ✅ Preferred
function UserCard({ user, onEdit }: UserCardProps) {
  return (
    <div className="p-4 border rounded-lg">
      <h3 className="text-lg font-semibold">{user.name}</h3>
    </div>
  )
}

// ❌ Avoid arrow functions
const UserCard = ({ user, onEdit }: UserCardProps) => {
  return <div>...</div>
}
```

### Props Interface

```typescript
// ✅ Define props interface
interface UserCardProps {
  user: User
  onEdit: (userId: string) => void
  className?: string
}

// ✅ Use destructuring with defaults
function UserCard({
  user,
  onEdit,
  className = ""
}: UserCardProps) {
  return <div className={cn("base-styles", className)}>...</div>
}
```

### Client Components

```typescript
// ✅ Use 'use client' for interactive components
'use client'

import { useState } from 'react'

function InteractiveButton() {
  const [isLoading, setIsLoading] = useState(false)
  return <button>Click me</button>
}
```

## shadcn/ui Integration

### Component Composition

```typescript
// ✅ Compose with shadcn/ui components
import { Button } from '@/components/ui/button'
import { Card, CardContent, CardHeader } from '@/components/ui/card'

function UserProfile({ user }: UserProfileProps) {
  return (
    <Card className="w-full max-w-md">
      <CardHeader>
        <h2 className="text-xl font-semibold">{user.name}</h2>
      </CardHeader>
      <CardContent>
        <Button onClick={() => handleEdit(user.id)}>
          Edit Profile
        </Button>
      </CardContent>
    </Card>
  )
}
```

### Custom Components

```typescript
// ✅ Extend shadcn/ui components
import { Button } from '@/components/ui/button'
import { cn } from '@/lib/utils'

interface PrimaryButtonProps extends React.ComponentProps<typeof Button> {
  variant?: 'default' | 'destructive'
}

function PrimaryButton({
  className,
  variant = 'default',
  ...props
}: PrimaryButtonProps) {
  return (
    <Button
      className={cn(
        'font-medium',
        variant === 'destructive' && 'bg-red-600 hover:bg-red-700',
        className
      )}
      {...props}
    />
  )
}
```

## Styling Patterns

### Tailwind Classes

```typescript
// ✅ Use semantic class combinations
<div className="flex items-center justify-between p-4 bg-white rounded-lg shadow-sm border border-gray-200">
  <div className="flex items-center space-x-3">
    <Avatar className="h-10 w-10" />
    <div>
      <h3 className="text-sm font-medium text-gray-900">{name}</h3>
      <p className="text-sm text-gray-500">{email}</p>
    </div>
  </div>
</div>
```

### Responsive Design

```typescript
// ✅ Use responsive prefixes
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  {items.map(item => (
    <Card key={item.id} className="p-4 md:p-6">
      {item.content}
    </Card>
  ))}
</div>
```

## State Management

### Local State

```typescript
// ✅ Use useState for local component state
function Counter() {
  const [count, setCount] = useState(0)

  function handleIncrement() {
    setCount(prev => prev + 1)
  }

  return (
    <div className="flex items-center space-x-2">
      <span className="text-lg">{count}</span>
      <Button onClick={handleIncrement}>+</Button>
    </div>
  )
}
```

### Form State

```typescript
// ✅ Use React Hook Form for forms
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'

function UserForm({ onSubmit }: UserFormProps) {
  const form = useForm<UserFormData>({
    resolver: zodResolver(userFormSchema),
    defaultValues: {
      name: '',
      email: ''
    }
  })

  return (
    <Form {...form}>
      <form onSubmit={form.handleSubmit(onSubmit)}>
        <FormField
          control={form.control}
          name="name"
          render={({ field }) => (
            <FormItem>
              <FormLabel>Name</FormLabel>
              <FormControl>
                <Input {...field} />
              </FormControl>
              <FormMessage />
            </FormItem>
          )}
        />
      </form>
    </Form>
  )
}
```

## Error Handling

### Error Boundaries

```typescript
// ✅ Create error boundaries for component trees
function ErrorFallback({ error, resetErrorBoundary }: ErrorFallbackProps) {
  return (
    <div className="p-4 border border-red-200 rounded-lg bg-red-50">
      <h2 className="text-lg font-semibold text-red-800">Something went wrong</h2>
      <p className="text-red-600">{error.message}</p>
      <Button onClick={resetErrorBoundary} variant="outline">
        Try again
      </Button>
    </div>
  )
}
```

## Performance

### Memoization

```typescript
// ✅ Use React.memo for expensive components
const ExpensiveComponent = React.memo(function ExpensiveComponent({ data }: Props) {
  return <div>{/* expensive rendering */}</div>
})

// ✅ Use useMemo for expensive calculations
function DataTable({ items }: DataTableProps) {
  const sortedItems = useMemo(() => {
    return items.sort((a, b) => a.name.localeCompare(b.name))
  }, [items])

  return <div>{/* render table */}</div>
}
```

}, [items])

return <div>{/_ render table _/}</div>
}

```

```
